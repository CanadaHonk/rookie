{"version":3,"sources":["js/pieceTypes.js","js/timer.js","js/updateActiveTurn.js","js/movement/utils.js","js/movement/core.js","js/drag.js","js/app.js"],"names":["char","dirs","name","amounts","hop","startTime","playerTimers","resetPlayerTimers","timerEl","document","getElementById","window","timerChildren","timerTick","timerIndex","playerTurn","updateTimerUI","i","length","totalTime","minutes","Math","floor","seconds","milli","formatted","toString","padStart","toFixed","split","el","textContent","updateActiveTurn","currentTimerIndex","className","setInterval","turnTitle","style","backgroundColor","color","Timer","getTextPos","boardPos","getBoardPos","console","log","String","fromCharCode","x","boardRows","y","boardIndex","board","children","indexOf","doesPosHavePiece","pos","index","isMoveValid","from","to","pieceType","pieceTypes","find","pieceColor","replace","fromBoardPos","toBoardPos","relativeDiff","amount","push","abs","min","betweenPoses","replX","replY","pieceBetween","some","every","includes","uciLogPanel","dragged","addEventListener","event","target","opacity","preventDefault","parentElement","id","background","uciEl","createElement","appendChild","origText","origClass","accentDropdown","oninput","documentElement","setProperty","value","boardBaseDropdown","boardColumns","pieces","querySelectorAll","makePieceTypesDebugPanel","t","header","con","display","flexDirection","flexWrap","gap","k","Object","keys","par","padding","kEl","vEl","append","p","draggable"],"mappings":";;AMAA,ADAA;;ACCA,ADAA;;ACCA,ADAA,AJFA,MAAMK,SDAS,ACAA,CDCb,ECDgB,IAAI,EAAJ,GAAS,EAA3B;AGAA,ADAO,AHEHL,ACAJ,ACFA,EFEIA,ECAAM,EEFSmC,AHEL,EAAE,IADR,IGDqB,AFEP,GEFWX,AFER,EEFO,AFE1B,IEFkC;AAChC,AHEE7B,EAAAA,IAAI,EGFAyC,AHEE,CAAC,OGFK,EHEN,CGFSC,AHAjB,WGA4B,CAACb,EAAD,CAA5B;ACAF,ADEEc,AHCE1C,ACAJ,EEDE0C,AHCE1C,IAAI,ACAFK,EDAI,CGDD,CAACsC,GAAR,CAAYH,AHFZ,QGEA,CFCqB,GAAG,MAAM;AKAhC,ADAA,AFCE,AHAEvC,ACAFG,EDAEH,ACAFG,IKDIyF,ADAAf,GFCI,AHAC,EAAE,CGADlC,AHAE,CAAD,CCAC,CDAG,CAAJ,CKDI,ALHf,ACIe,CEAC,AFACzC,CEAA0C,CGDC,ADAAtC,GCAGA,ILCN,CIDW,CAACC,AJCCL,EKDC,AHCnB,CGDoBK,AHCA,KAAKgC,CFApB,CAAf,IIDkB,CAAwB,CFCC,CGDtB,AHCuBM,CGDC,AHCnC,CAAqC,GAAGC,EEDhC,CAApB,MFC6D,GAAGP,CGDzC,CAAvB,MHCwE,CAACQ,CAAG,EAA1E;AECF,AFAC,AHAG9C,ACAH,CENM,AFIP,CDEIA,EKAA6E,CLAG,EAAE,IKAT;ACAAc,ADEAtF,ALPE,CADa,EAQb,KKAM,CAACyE,KCFK,CAACc,OAAf,GAAyB,ADEzB,CAA0B,KCFK,CDE/B,EAAkC,UAASb,KAAT,EAAgB,CAEjD,CAFD,EAEG,KAFH;ACDE1E,ADKFA,ADTO,AJMHT,ACDJO,ACNA,EIKEE,ANEET,IINS0D,AJML,AEPFtB,EGUE,ALHE,CKGD8C,CCLC,CAACe,ANCT,IENa,EECS,AHKP,CCNCxF,EECS,CAACkD,ICS5B,ADT2B,CEIzB,ADKwB,AHVA,CIKCtB,AFJOuB,AFDPlD,EECA,GEIzB,CAA+BwF,CFJQ,GCSzC,EAAuC,EHVrB,CAAwB,EIKxC,CAA2C,IDKGf,KAAT,AHVrB,CIKhB,AJLF,CGUuD,CCLEY,cAAc,CAACI,KAAtE;AACD,ADKClB,ADTA,AJMEhF,ACAJ,CKJA,CDOEgF,ALHEhF,IAAI,ACAFO,EGNEqD,AJME,CKGD,ALHE,GKGCsB,CJHC,GAAG1E,CIGC,ADTA,CCSC2E,CLHR,CINUtB,AJIlB,IKKA,AJHsB,CAACpD,cAAT,CGNeqD,AHMS,IGNpB,CAAiBf,CAAD,CHMpB,CAAhB,EGN2CA,CAAC,CAAChD,IAAF,KAAW2D,IAAI,CAAC5B,WAAvC,CAAlB;ACWAoD,AFPK,AHGHjF,ACCJS,EIGEwE,ALJEjF,IGHSyC,AHGL,ACCF,CIGC,AJHA/B,CIGCwE,ALJE,MKIR,CAAa/C,AHXA,CFIb,CGAsB,GEOtB,AFP0BP,AFI5B,CIGqBuD,AHXA,CCIM,CFIJ,CACrB5E,EELiC,EEOjC,GAA6B,CJFrB,CIER,AJFSC,cAAT,CAAwB,aAAxB,CADqB,EAErBD,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAFqB,CAAvB;AKFA,ADMC,ADVC,ADEmC,AHIjCP,AEPF,CGOF,CLAIA,CKID,GCNGiG,EDEN,ADNQpC,CJMG,EAAE,CAAC,CAAD,EAAI,CAAJ,EINK,AJME,CAAP,EINQL,AJME,CAAV,CMFU,CNEG,CIND,AJMZ,CMFalD,AFJAyB,CJMG,CAAhB,EAAmB,CAAnB,EAAsB,CMFD,ANErB,CMFsBxB,AFJd,AJEnB,CIFkCuD,OAAf,CAAuB,KEIlB,CAAwB,EFJ7B,EAAiC,EAAjC,CAAnB,cEIwB,CAA1B;ADQAxD,AFTE,AHIEL,ACIJ,ACXEgC,EFOEhC,AEPFgC,GFOK,CCIDvB,CDJG,CKKD,AFTAsC,CESC+B,EHZE,CAAC7C,GDWG,ECXb,CCGgB,AFQA,ACXAC,GCGG,CAAC,EFQE,CICxB,AFTyBc,CESC,IFTI,CAACC,EDH7B,EGYF,CHZqC,CGYA,EFThB,EAAoBC,MESK6B,CFTzB,CAA4BrD,EAA5B,ADH8Bf,CGYd,AFTnC,EESmD,OHZS,GAA5D;AIMFqF,ADOEjB,ADXA,ADGA,AHHA,ACUA,ACXA/C,CFPa,CKmBb+C,AHZA/C,CFQA,GIPI4B,CCWC,CAACoB,AJDAtE,CEPC,EDJE,CAACuB,EGYV,CAAaA,CDXC,CEIC,AJLf,CIKgB2D,ALMA,ACXAzD,EGYhB,CAAmB8C,ADXAtE,AHUAA,ECXnB,EIKF,CJL2B,EIKC,ADO1B,GAA6B,ADX7B,AHU6B,EIC7B,ADX+B,CEIC,ELME,KCXKA,EDWpB,GAAyB,CAAzB,GAA6B,CAAhD,ACXiD,KAAK,OAAf,GAAyB,OAAzB,GAAmC,OAAQ,GAAlF;AIMAN,ADOD,ADXG,ADGAuC,AHIAhD,ACIFM,ACXA8B,CGSF,CCLE3B,ANGET,ACIFM,ACXA8B,CGWC,CFRCY,CAAC,CHIG,CGJDG,CEMP,ALFU,EMHA,CAAC8C,AFJA,AJMT,AENS,CAAClE,EDWE,CAACjB,CGXX,CDGa,GAAG,CADX,EDFP,EDWY,CKPZ,ALOA,ACXwBC,CIICsB,GLOG,EKP5B,CAA+B6D,CLO/B,ECXA,CALmB,CAOnB,MIEA,CAA2C,cAA3C,EAA2DE,iBAAiB,CAACD,KAA7E;AACD,ADQD,ADZG,ADGCjD,AHIAjD,ACKFe,CKVF,CNKIf,ACKFe,EETEkC,CAAC,CHIG,CGJD7B,CHIG,CAAC,EGJA,CAACC,GFSG,EETR,CAAW6B,AHIR,EAAY,QGJM,EHIlB,CGJqB,CAAxB,AHI2B,UAAxB,CAFR;AGJO,AHOLjD,ACKH,ACXCsC,CDKF,CDCItC,AENFsC,CCDA,GHOM,CEND,CFMG,AENFR,OFGN,SEHA;AIIFrB,ADOAF,ADXE,ADGD,AHIGN,AENH,CCLM,CHWHA,IMHE,CAACY,CDOC,ADXAmD,CCWCgB,ALJE,EAAE,CAAC,CAAD,EAAI,CAAJ,CMHb,CNGoB,CAAP,CMHO,AFJA,CJOG,CAAV,CIPU,CJOG,CKI1B,ALJa,CKIa,CCP1B,ANG6B,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAJX,CKQF,EAAsC,SDXHvB,CCWYwB,GDXxB,CAArB,CCWoC,EAAgB;ACLtD,ADMEA,ADXA,AJOE/E,ACKJ,EIDE+E,ALJE/E,GAAG,CCKDY,CIDC,ALJE,CKIDsE,ADXAnB,UAAU,CHYC,EGZE,CCWnB,AJCoB,MAAM,iBGZKP,EAAZ,CAAnB;AEOFjD,ADKC,ADVC,AJAA,ACWA,CIHF,ALvBe,EKyBZ,ALHD,GMFI,CAACyC,ALMA,CIHP,ADRQgB,GHWGnD,CKNX,ALMY,GKNGR,ALMA,CAAb,EAAgBQ,CAAC,CGXC,EHWEX,CKNC,AFLA0D,CEKCtD,SFLS,CHWC,CAACQ,GKNpB,AFLuB,CEKC,ELMrC,EAAyCD,CAAC,CGXrB,CEKR,ALMb,CKNF,CFLgD,AHWA;AKJhDN,ADKAF,ADXIuC,AJOAhD,ACIA,EDJAA,EIPAgD,CAAC,CEMC,ANCE,CMDDC,AFNAiB,CCWC,ALJE,CKIDgB,CJAC/D,CDLR,KMAF,GAAmB,AFNA,AHWA,CKLnB,AFNoB6B,CAAb,CHWe1C,EGXE6D,CCWxB,CAA0B,QDXQ,AHWA,CGXCnB,AHWA/B,CGZa,AHYd,CIAlC,AJAI,EIAmC,UAASkE,KAAT,EAAgB;ACJvDxE,ADKE,ADXEuC,ADAG,AHOHjD,ACKA,EDLAA,EIPAiD,CAAC,CEMC,ADKAiC,AFXO5B,AHOL,CMDD8C,AFNAnC,CJOG,CAAC,CCKD9C,CIDC,CAACgE,KJCK,CIDX,ALJI,CMDV,ADKmBG,ADXA,CAACrC,AJOE,ACKF7B,CGZb,CEMe,AHNO,CGM7B,CFNwB8C,AHYA,CEZSX,AFYRlC,GEZO,EHOtB,ACKU,CDPlB,ACO6BD,CIDzB,AFXmC,CEWRmE,CDXC,CCW5B,ADX6BtC,AHYA,CAAC5B,IIDI,CJCT,CAAWH,KIDxC,EAA+C,EJClB,IAAwB,EAAnC,CAAhB;AKJJ,ADIIgE,ADd4C,ADG9C,AHOEjF,ACKA,EDLAA,CIVmB,CCcnBiF,ECJEmB,AFPA,AJOE,EGPA7C,AHOE,CKID,CAAC2B,AJCA7D,EKLE,CHPC,CHIX,CMGad,CDIX,AFXY+C,CEWCnB,AJCA,EEZE,CAACW,AFYA3B,CEZJ,CEWZ,CCJmB,ADIAoE,CCJCc,AHPA/C,AFYA,CAAClC,EEZE,CAAC4B,CAAJ,CFYJ,CAAW7B,CEZC,CEW5B,AFXF,EFYiC,CIDC,AJCAC,IKLrB,CAA0B,ALKV,CAAWH,SAAX,IKLhB,ALKwC,CKLvD,CLKoB,CAAhB,CID4C8D,OAAZ,EAAqBE,KAAK,CAACC,MAA3B,IAAqC,OAArC,GAA+C,KAA/E;AACD,ADXCpC,ADCF,AHME7C,ACKA,EDLAA,EIPA6C,CAAC,EAAEmB,EDCEf,AHME,CCKD5B,CDLG,CAAC,CAAD,CGNC,CAAC6B,AHME,ACKF,CDLF,CIPI,CAACL,AJOE,ACKF7B,CGZX,AJOM,EAAU,CIPD+C,AJOT,CGNJ,CAAeT,AHME,CAAb,EAAgB,ACKF,CDLd,CGNJ,CHMuB,ACKF,CEXCvB,AHMlB,ACKT,EDL+B,CIPD,AJOrB,CIPsBc,AJGjC,CIJI,IDEG,KAAoC,EAA3C;AGOF,ADKC,ADZGE,ADCH,AHMG9C,ACMA,CINJ,AFVO,CHUHA,CKKD,CDZC8C,CAAC,AJOE,CMADsD,CFPCrC,AJOE,CKAT,EJMU1C,OGbO,CAACyB,CAAX,AHaY,GGbGgB,AHaA,CAAC9C,OKNO,ALMA,GKNG,ALMA,CGbC,AHaX,CGbY8B,EHaG,EKNC,CLMC9B,OAAQ,GAAzB,GAA8B,EAA/B,IACf,GAAEG,OAAO,CAACG,QAAR,GAAmBC,QAAnB,CAA4B,CAA5B,EAA+B,GAA/B,CAAoC,EADvB,IAEfP,OAAO,KAAK,CAAZ,GAAiB,IAAGI,KAAK,CAACI,OAAN,CAAc,CAAd,EAAiBC,KAAjB,CAAuB,GAAvB,EAA4B,CAA5B,CAA+B,EAAnD,GAAuD,EAFxC,CAAlB;AKLF,ADMFpB,ADhBM,AJIJ,ACeE,CDrCW,EIeb,AJcA,KMDMqB,ADMA,CAACoD,CCNC,ALSApD,EAAE,CKTCrB,ELSEG,MKTM,CAACF,GDMtB,CAA0B,EJGE,CAACO,CAAD,CAAxB,KKTS,CAAwB,ADMrC,EAAuC,ICN1B,CAAX,KDM8CkE,KAAT,EAAgB;AACrD,ADZA,AJOEnF,ACQA8B,EDRA9B,ECQA8B,EIHEqD,ADZAlF,AJOE,ACQF,CAAC8B,CDRG,EIPA,CCYC,ALNT,CKMUqD,CDZC,EAAX,GCYI,AJGF,CIHeG,EJGE9D,SAAjB,EIHE,CAA2B+D,EAA3B,KAAkC,OAAtC,EAA+C;ACL/C,ADMEL,ADZF,AJOElF,ACQD,EDRCA,EKKAkF,EDZEd,AJOE,CMDD,CNCG,CKKD,ALLE,CKKDe,EDZE,CEMCqB,CAAX,CFNa,CCYX,ADZF,CCYepE,CCNCyB,ANCR,EAAY,EKKlB,CAAmB2B,OLLb,EAAwB,CKK9B,GAAgC,CCNlC,CDME,CCN0B,GNCpB,CAFR;AMEE,ADMD,ALLCvF,ACQH,CAfD,CDOIA,IAAI,EAAE,EMDAwG,INFR,EMEc,GAAGjG,QAAQ,CAACkF,aAAT,CAAuB,IAAvB,CAAf;AACAe,ADMH,ADZC,AJOEvG,CKCJ,CLDIA,CKKD,CCNCuG,EFNE,ECQN,ADRQtC,CJOG,CMDD,CAACrC,ANCE,CAAC,CAAD,OIPO,CAACmB,CEMjB,AFNI,GEMiBuD,AFNA,CEMC,AFNlB,CEMmBvG,GFNGkE,CEM1B,WFNsC,CAACpB,CAAb,KAAmB,CAA3C,MAAmDoB,YAAY,CAACpB,CAAb,KAAmB,CAAnB,IAAwBoB,YAAY,CAAClB,CAAb,KAAmB,CAA5C,IAAmDkB,YAAY,CAAClB,CAAb,KAAmB,CAAnB,IAAwBkB,YAAY,CAACpB,CAAb,KAAmB,CAAhJ,CAAJ,EAAyJ;AEQvJlB,ADMJrB,ADbIR,AJEF,ACaK,CD1CQ,EAmCb,CMDE6B,AFPA7B,EEOE,ALQO+B,CKRN4D,CDMC,ADbA,CCaCV,ADbAZ,IAAL,CAAU,IEOV,CAAeoC,GLQU,EGfzB,CEOA,ADMJ,AJEgC,CIFN,KJEY,CIFtC,EAAkC,UAASvB,KAAT,EAAgB;ACJ9C,ADKFA,ADbEd,AJQArE,ACOF,EIFAmF,ALLEnF,EIRAqE,EJQI,CKKD,CAACiB,ALLE,ACOFrD,EKPE0E,AFRA,CJOR,EMCW,AFRAtF,GEQGZ,CFRC,CAAC8D,GAAL,CCaX,ADboBH,EEQE,CAACuB,ALOA,GAAG5E,MGfM,CAACiC,CAAtB,EEQG,ALOsB,CKPC,EFRE3B,EHeE,CKP3B,CAAZ,AFRyC,CAACkD,GAAL,CAASH,AHetB,GAAyB,CAAzB,GAA6B,CAAvD,IGf4D,CAAClB,CAAtB,CAArC;AESAyD,AFRD,AJQC1G,ACOFW,EDPEX,ACOFW,EKPE+F,ENAI,CMAD,CAACtE,ANAE,CAAC,IMAP,CAAUuE,CLOC,CAAC3E,EDPN,CAFR,EMEE,GAAoB,MAApB,GLOW,CAAb,CAAiCC,SAAjC,GAA6C,QAA7C;AKNEyE,ADKF,ALLEzG,ACOFU,EDPEV,ACOFU,EKPE+F,EDKExB,ALLE,CMAD,CAAC9C,ANAE,GKKC,CAAC+C,CCLR,CAAUyB,CLOC,CDVb,ACUc5E,EIFV,CAAasD,QCLf,GAA0B,EDKxB,CAA2BC,AJEA,EKP7B,ADKE,GJEgC,CAAtB,CIFwB,EJEE,CAA1B,GAA8B,CIF5C,AJEa,CAAb,CIF+C,AJEAtD,SAA/C,GAA2D,EAA3D;AKNEyE,ADKAxB,ADbF,AJQEhF,ACOH,CAJM,CDHHA,EMAAwG,ADKAxB,EDbEf,CEQC,CAAC/B,CDKC,ALLE,CKKD+C,CLLG,CAAC,CMAV,ANAS,CMAC0B,EDKV,CAAazE,CDbC,CAACa,CAAb,EEQF,ADKA,CAAmBuC,ADbA,CAAjB,CEQmB,GFRGrB,GEQxB,EDKA,GAAgC,EAAhC,EDboC,CAACpB,CAAb,KAAmB,CAA7C,EAAgD;AES9C2D,ADMA,ADdA1G,AJGF,CAnCa,GMwCX0G,AFRA1G,GEQG,CAACoC,ADMA,ADdA,CCcC,ADdAiC,IEQL,AFRA,CEQUyC,AFRA,GEQV,GAAgB,GFRhB,GEQA,MDMiB9B,OAAZ,EAAqBE,KAAK,CAACC,MAA3B,CAAL,EAAyC;AAEzCrE,ADfAsD,ICeAtD,ADfAsD,MAAM,GAAGD,CCeC,GAAGrD,QDfQ,CAACmC,CCeC,ADfvB,KCe4B,OAAf,GAAyB,OAAzB,GAAmC,OAAhD;ACNA,ADOA,ADfD,AHcHf,SKNS,ELME,CAACtB,GKNGmG,CAAX,IAAgBC,CLMT,EAAY,EAAZ,CKNe,ALM1B,CKN2BC,IAAP,CAAYT,CAAZ,CAAhB,EAAgC;AAC9B,ADQF,UAAMf,ECREyB,GAAG,ADQA,GCRG1G,ADQAA,QCRQ,ADQA,CCRCkF,ADQAA,aCRT,ADQA,CCRuB,ADQA,KCRvB,ADQA,CCRZ,ADQF;ACPEwB,ADQFzB,ADhBF,ICgBEA,ECREyB,AFRA9F,GEQG,ADQA,CCRCgB,ADQAH,ADhBA,CAACqC,GAAL,CEQA,AFRSH,CEQC9B,GDQZ,GAAmB,KDhBI,CAACU,CAAtB,EEQA,GAA4B,ADQAiC,CDhBC5D,IAAI,CEQjC,AFRkCkD,CCgBC,CAACrC,CDhBP,CAASkC,OCgBV,CAAkBH,IDhBI,CAACf,CAAtB,CCgBD,ADhBhC,CCgB0D,CDhBC,OCgB3B,EAAoC,EAApC,CAAwC,EAAtE;ACPEiE,ADQFzB,ADhBAzF,ICgBAyF,ADhBAzF,EEQEkH,EFRE,CEQC,ADQA,ADhBA7C,CEQCjC,ADQAN,GDhBN,CAAU,CEQR,CAAUqF,KDQZ,ECRE,CDQmB,ADhBrB,EEQsB,CDQCnC,ICRrB,GDQ4B,CAAClD,WAAR,KAAwB,IAAxB,GAA+B,EAA/B,GAAoCkD,OAAO,CAAClD,WAAY,GAAE,uBAAWoD,KAAK,CAACC,MAAjB,CAAyB,EAA1G,CAV6C,CAUgE;ACN3G,AFTFf,IAAAA,MAAM,EESEgD,CFTChG,EESE,EFTE,CESCZ,AFTA8D,GAAL,CAASH,IESI,CAACuB,OFTO,CAAC3C,CAAtB,CAAT,GESc,CAAuB,MAAvB,CAAZ;AACAqE,ADOFrC,ADhBD,ICgBCA,ECPEqC,GAAG,CAACtF,KDOK,CAAC6D,KCPV,GAAkBoB,CAAlB,EDOF,CAAwBtB,KAAxB;ACLE,ADOF,UAAMG,ECPEyB,GAAG,GAAG7G,ADOA,GAAGwE,KCPK,CAACU,CDOC,CAAC5D,WCPX,ADOd,CCPqC,MAAvB,CAAZ;AACAuF,ADOF,ADjBF,MEUIA,AFVCjG,GEUE,CAACU,ADOA+D,ADjBC,CAACvB,GAAL,CAASH,ICiBG,ECPb,CDOgBa,ECPEwB,CAAC,CAACO,CAAD,AFVG,CEUtB,AFVuBhE,CCiBA,ADjBtB,CCiBuBd,KDjBMb,ICiBhC,ADjBoC,CAACkD,GAAL,CAASH,YAAY,CAAClB,CAAtB,IAA2B,CAAzD,IAAgE7B,IAAI,CAACkD,GAAL,CAASH,YAAY,CAAClB,CAAtB,MAA6B7B,IAAI,CAACkD,GAAL,CAASH,YAAY,CAACpB,CAAtB,IAA2B,CAA5H,EAAgI;AEY5HmE,ADOFlC,ADlBAhF,ICkBAgF,ADlBAhF,EEWEkH,EFXE,CEWC,AFXA7C,CEWCiD,CDOC,CAACxF,CDlBR,CAAU,EEWR,CAAWsF,GAAX,EAAgBC,CDOlB,ADlBA,EEWE,CDOoBnC,KAAK,CAACC,MAAN,CAAarD,WAAnC;ACLE4E,ADMF1B,ADlBAZ,ICkBAY,ADlBAZ,EEYEsC,GAAG,CAACf,AFZA,CCkBC,CAAC1D,CDlBCb,IAAI,CAACmD,GEYZ,ADMF,ADlBS,CEYS2C,AFZA9F,ECkBE8D,CCNlB,CFZoB,CAACZ,ECkBE,CAACa,ADlBR,CAAShB,KCkBP,CAAalC,MDlBM,CAACc,CAAtB,CCkBlB,ADlBS,EAAmC3B,IAAI,CAACkD,GAAL,CAASH,YAAY,CAAClB,CAAtB,CAAnC,CAAT;AEaC,ADODiC,ADnBD,ICmBCA,KAAK,CAACC,MAAN,CAAarD,WAAb,GAA2B8D,QAA3B;AACAV,IAAAA,KAAK,CAACC,MAAN,CAAalD,SAAb,GAAyB4D,SAAzB;ACNAhE,ADOD,ADnBDc,EAAAA,EEYEd,EAAE,CAAC8D,EFZE,CAAC/C,GAAR,CAAY5C,IEYV,AFZF,CEYiB0G,CFZCtC,EEYhB,IFZF,EAA0BD,YAA1B;AEaC,ADOF,ADlBC,CCRF,EA0BG,GDlBGK,ECRN,UDQkB,GAAG,EAAnB;AEYD,AFVC,CEvBF,KFuBMC,KAAK,GAAGN,YAAY,CAACpB,CAAzB;AACA,MAAI2B,KAAK,GAAGP,YAAY,CAAClB,CAAzB;AEWFsD,wBAAwB;AFTtB,SAAO9B,KAAK,KAAK,CAAV,IAAeC,KAAK,KAAK,CAAhC,EAAmC;AEWrC,AFVI,KEUC,GFVGD,CEUC8C,CAAT,GFVa,CEUClB,EFVE,CAAZ,EAAe,CEUnB,EAAsB;AACpBkB,AFVI9C,EEUJ8C,CAAC,CAACC,EFVE/C,KAAK,EEUT,GAAc,IAAd;AACD,AFVI,KAFD,MAEO,IAAIA,KAAK,KAAK,CAAd,EAAiB;AACtBA,MAAAA,KAAK;AACN;;AAED,QAAIC,KAAK,GAAG,CAAZ,EAAe;AACbA,MAAAA,KAAK;AACN,KAFD,MAEO,IAAIA,KAAK,KAAK,CAAd,EAAiB;AACtBA,MAAAA,KAAK;AACN;;AAED,UAAMnB,GAAG,GAAG;AACVR,MAAAA,CAAC,EAAE,CAACgB,UAAU,KAAK,OAAf,GAAyBG,UAAU,CAACnB,CAApC,GAAwCkB,YAAY,CAAClB,CAAtD,IAA2D0B,KADpD;AAEVxB,MAAAA,CAAC,EAAE,CAACc,UAAU,KAAK,OAAf,GAAyBG,UAAU,CAACjB,CAApC,GAAwCgB,YAAY,CAAChB,CAAtD,IAA2DyB;AAFpD,KAAZ;AAKA,QAAInB,GAAG,CAACR,CAAJ,KAAUkB,YAAY,CAAClB,CAAvB,IAA4BQ,GAAG,CAACN,CAAJ,KAAUgB,YAAY,CAAChB,CAAvD,EAA0D;AAE1DuB,IAAAA,YAAY,CAACH,IAAb,CAAkBd,GAAlB;AACD;;AAED,QAAMoB,YAAY,GAAGH,YAAY,CAACI,IAAb,CAAmB7B,CAAD,IAAO,6BAAiBA,CAAjB,CAAzB,CAArB;AAEA,SAAO,EAAE4B,YAAY,KAAK,IAAjB,IAAyBf,SAAS,CAACzD,GAAV,KAAkB,KAA7C,KAAuDH,IAAI,CAAC6E,KAAL,CAAY9B,CAAD,IAAOa,SAAS,CAAC5D,IAAV,CAAe8E,QAAf,CAAwB/B,CAAxB,CAAlB,CAAvD,IAAwGa,SAAS,CAAC1D,OAAV,CAAkB4E,QAAlB,CAA2BV,MAA3B,CAA/G;AACD,CA5EM","file":"app.c3f9f951.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    char: '♟︎',\n    dirs: ['forward'],\n    name: 'Pawn',\n    amounts: [1, 2],\n    hop: false\n  },\n  {\n    char: '♝',\n    dirs: ['diagonal'],\n    name: 'Bishop',\n    amounts: [1, 2, 3, 4, 5, 6, 7, 8],\n    hop: false\n  },\n  {\n    char: '♛',\n    dirs: ['forward', 'straight', 'diagonal'],\n    name: 'Queen',\n    amounts: [1, 2, 3, 4, 5, 6, 7, 8],\n    hop: false\n  },\n  {\n    char: '♜',\n    dirs: ['forward', 'straight'],\n    name: 'Rook',\n    amounts: [1, 2, 3, 4, 5, 6, 7, 8],\n    hop: false\n  },\n  {\n    char: '♚',\n    dirs: ['forward', 'straight', 'diagonal'],\n    name: 'King',\n    amounts: [1]\n  },\n  {\n    char: '♞',\n    dirs: ['l-shape'],\n    name: 'Knight',\n    amounts: [1]\n  }\n];","const startTime = 1 * 60 + 10;\n\nlet playerTimers = [];\n\nconst resetPlayerTimers = () => {\n  playerTimers = [ startTime, startTime ];\n};\n\nresetPlayerTimers();\n\nconst timerEl = document.getElementById('timer');\n\nwindow.timerChildren = [\n  document.getElementById('timer-black'),\n  document.getElementById('timer-white')\n];\n\nconst timerTick = () => {\n  const timerIndex = playerTurn === 'white' ? 1 : 0;\n\n  playerTimers[timerIndex] -= 0.01;\n\n  updateTimerUI();\n};\n\nconst updateTimerUI = () => {\n  for (let i = 0; i < playerTimers.length; i++) {\n    const totalTime = playerTimers[i];\n\n    const minutes = Math.floor(Math.floor(totalTime) / 60);\n    const seconds = Math.floor(Math.floor(totalTime) % 60);\n    const milli = totalTime % 1;\n\n    const formatted = (minutes > 0 ? `${minutes}:` : '') +\n      `${seconds.toString().padStart(2, '0')}` + \n      (minutes === 0 ? `.${milli.toFixed(1).split('.')[1]}` : '');\n\n    const el = timerChildren[i];\n    el.textContent = formatted;\n  }\n};\n\nexport const updateActiveTurn = () => {\n  const currentTimerIndex = playerTurn === 'white' ? 1 : 0;\n  timerChildren[currentTimerIndex].className = 'active';\n  timerChildren[currentTimerIndex === 1 ? 0 : 1].className = '';\n};\n\nsetInterval(timerTick, 10);","import * as Timer from './timer.js';\n\nconst turnTitle = document.getElementById('turn-title');\n\nexport default () => {\n  // Update turn title UI\n  turnTitle.style.backgroundColor = `var(--piece-${playerTurn})`;\n  turnTitle.style.color = `var(--piece-${playerTurn === 'white' ? 'black' : 'white'})`;\n\n  turnTitle.textContent = playerTurn;\n\n  // Update active timer UI\n  Timer.updateActiveTurn();\n};","export const getTextPos = (el) => {\n  const boardPos = getBoardPos(el);\n\n  console.log(boardPos);\n\n  return `${String.fromCharCode(97 + boardPos.x)}${(boardRows - boardPos.y)}`;\n};\n\nexport const getBoardPos = (el) => { // top left is (0, 0)\n  const boardIndex = [...board.children].indexOf(el);\n\n  return {\n    x: boardIndex % 8,\n    y: Math.floor(boardIndex / 8)\n  };\n};\n\nexport const doesPosHavePiece = (pos) => {\n  const index = pos.x + pos.y * 8;\n\n  return board.children[index].className !== '';\n};","import pieceTypes from './../pieceTypes.js';\nimport { getBoardPos, doesPosHavePiece } from './utils.js';\n\nexport const isMoveValid = (from, to) => {\n  const pieceType = pieceTypes.find((x) => x.char === from.textContent);\n\n  const pieceColor = from.className.replace('-piece', '');\n\n  if (pieceColor !== playerTurn) {\n    return false;\n  }\n\n  const fromBoardPos = getBoardPos(from);\n  const toBoardPos = getBoardPos(to);\n\n  const relativeDiff = pieceColor === 'white' ? {\n    x: fromBoardPos.x - toBoardPos.x,\n    y: fromBoardPos.y - toBoardPos.y\n  } : {\n    x: toBoardPos.x - fromBoardPos.x,\n    y: toBoardPos.y - fromBoardPos.y\n  };\n\n  let dirs = [];\n  let amount = 0;\n\n  if (!(relativeDiff.y > 0 && relativeDiff.x === 0) && ((relativeDiff.x !== 0 && relativeDiff.y === 0) || (relativeDiff.y !== 0 && relativeDiff.x === 0))) {\n    dirs.push('straight');\n    amount = Math.abs(relativeDiff.x) || Math.abs(relativeDiff.y);\n  }\n\n  if (relativeDiff.y > 0 && relativeDiff.x === 0) {\n    dirs.push('forward');\n    amount = relativeDiff.y;\n  }\n\n  if (Math.abs(relativeDiff.x) === Math.abs(relativeDiff.y)) {\n    dirs.push('diagonal');\n    amount = Math.abs(relativeDiff.x);\n  }\n\n  if ((Math.abs(relativeDiff.x) === Math.abs(relativeDiff.y) * 2) || (Math.abs(relativeDiff.y) === Math.abs(relativeDiff.x) * 2)) {\n    dirs.push('l-shape');\n    amount = Math.min(Math.abs(relativeDiff.x), Math.abs(relativeDiff.y));\n  }\n\n  console.log(dirs, amount, relativeDiff);\n\n  let betweenPoses = [];\n\n  let replX = relativeDiff.x;\n  let replY = relativeDiff.y;\n\n  while (replX !== 0 || replY !== 0) {\n    if (replX > 0) {\n      replX--;\n    } else if (replX !== 0) {\n      replX++;\n    }\n\n    if (replY > 0) {\n      replY--;\n    } else if (replY !== 0) {\n      replY++;\n    }\n\n    const pos = {\n      x: (pieceColor === 'white' ? toBoardPos.x : fromBoardPos.x) + replX,\n      y: (pieceColor === 'white' ? toBoardPos.y : fromBoardPos.y) + replY\n    };\n\n    if (pos.x === fromBoardPos.x && pos.y === fromBoardPos.y) continue;\n\n    betweenPoses.push(pos);\n  }\n\n  const pieceBetween = betweenPoses.some((x) => doesPosHavePiece(x));\n\n  return !(pieceBetween === true && pieceType.hop === false) && dirs.every((x) => pieceType.dirs.includes(x)) && pieceType.amounts.includes(amount);\n};","import { isMoveValid } from './movement/core.js';\nimport updateActiveTurn from './updateActiveTurn.js';\nimport { getTextPos } from './movement/utils.js';\n\nconst uciLogPanel = document.getElementById('uci-log');\n\nvar dragged;\n\ndocument.addEventListener(\"drag\", function(event) {\n\n}, false);\n\ndocument.addEventListener(\"dragstart\", function(event) {\n  dragged = event.target;\n\n  event.target.style.opacity = .5;\n}, false);\n\ndocument.addEventListener(\"dragend\", function(event) {\n  event.target.style.opacity = \"\";\n}, false);\n\n/* events fired on the drop targets */\ndocument.addEventListener(\"dragover\", function(event) {\n  event.preventDefault();\n}, false);\n\ndocument.addEventListener(\"dragenter\", function(event) {\n  if (event.target.parentElement.id === 'board') {\n    event.target.style.background = isMoveValid(dragged, event.target) ? 'green' : 'red';\n  }\n\n}, false);\n\ndocument.addEventListener(\"dragleave\", function(event) {\n  if (event.target.parentElement.id === 'board') {\n    event.target.style.background = \"\";\n  }\n}, false);\n\ndocument.addEventListener(\"drop\", function(event) {\n  event.preventDefault();\n\n  if (event.target.parentElement.id === 'board') {\n    event.target.style.background = \"\";\n\n    if (!isMoveValid(dragged, event.target)) return;\n\n    playerTurn = playerTurn === 'white' ? 'black' : 'white';\n    updateActiveTurn();\n\n    const uciEl = document.createElement('div');\n    uciEl.className = `uci-move-${dragged.className.replace('-piece', '')}`\n    uciEl.textContent = `${dragged.textContent === '♟︎' ? '' : dragged.textContent}${getTextPos(event.target)}`; // `${getTextPos(dragged)}${getTextPos(event.target)}`;\n  \n    uciLogPanel.appendChild(uciEl);\n\n    const origText = dragged.textContent;\n    const origClass = dragged.className;\n\n    dragged.textContent = event.target.textContent;\n    dragged.className = event.target.className;\n\n    event.target.textContent = origText;\n    event.target.className = origClass;\n  }\n}, false);","import pieceTypes from './pieceTypes.js';\nimport updateActiveTurn from './updateActiveTurn.js';\nimport { } from './drag.js';\n\nconst accentDropdown = document.getElementById('accent-dropdown');\n\naccentDropdown.oninput = () => {\n  document.documentElement.style.setProperty('--accent', accentDropdown.value);\n};\n\nconst boardBaseDropdown = document.getElementById('board-base-dropdown');\n\nboardBaseDropdown.oninput = () => {\n  document.documentElement.style.setProperty('--board-base', boardBaseDropdown.value);\n};\n\nwindow.playerTurn = 'white';\n\nupdateActiveTurn();\n\nwindow.board = document.getElementById('board');\n\nwindow.boardRows = 8;\nwindow.boardColumns = 8;\n\nconst pieces = document.querySelectorAll('#board > div');\n\nconst makePieceTypesDebugPanel = () => {\n  const el = document.getElementById('d-pt');\n\n  for (const t of pieceTypes) {\n    const header = document.createElement('h1');\n    header.textContent = t.name;\n\n    el.appendChild(header);\n\n    const con = document.createElement('div');\n    con.style.display = 'flex';\n    con.style.flexDirection = 'row';\n    con.style.flexWrap = 'wrap';\n    con.style.gap = '15px';\n\n    for (const k of Object.keys(t)) {\n      const par = document.createElement('div');\n      par.style.backgroundColor = '#333';\n      par.style.padding = '6px';\n      \n      const kEl = document.createElement('span');\n      kEl.textContent = k;\n\n      const vEl = document.createElement('span');\n      vEl.textContent = t[k];\n\n      par.append(kEl, vEl);\n\n      con.appendChild(par);\n    }\n\n    el.appendChild(con);\n  }\n};\n\nmakePieceTypesDebugPanel();\n\nfor (let p of pieces) {\n  p.draggable = true;\n}"]}